<!doctype html><html lang=en><head><title>I'm a State Engineer. Are you, too? · Jens Rantil
</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=color-scheme content="light dark"><meta name=author content="Jens Rantil"><meta name=description content='"Lifecycle" and "state" are two words not used often enough.
'><meta name=keywords content="blog,developer,staff engineering,personal"><meta name=twitter:card content="summary"><meta name=twitter:title content="I'm a State Engineer. Are you, too?"><meta name=twitter:description content='"Lifecycle" and "state" are two words not used often enough.'><meta property="og:url" content="https://jensrantil.github.io/posts/lifecycles-and-states/"><meta property="og:site_name" content="Jens Rantil"><meta property="og:title" content="I'm a State Engineer. Are you, too?"><meta property="og:description" content='"Lifecycle" and "state" are two words not used often enough.'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2013-11-18T00:00:00+00:00"><meta property="article:modified_time" content="2023-11-13T17:14:44+01:00"><meta property="article:tag" content="Architecture"><meta property="article:tag" content="Programming"><meta property="article:tag" content="State"><meta property="article:tag" content="Distributed Architecture"><meta property="article:tag" content="Simplicity"><link rel=canonical href=https://jensrantil.github.io/posts/lifecycles-and-states/><link rel=preload href=/fonts/fa-brands-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-regular-400.woff2 as=font type=font/woff2 crossorigin><link rel=preload href=/fonts/fa-solid-900.woff2 as=font type=font/woff2 crossorigin><link rel=stylesheet href=/css/coder.min.7763f8bc6341ecf82378e867c285e1549abb063a899be313ccd25dbfcd24fa7d.css integrity="sha256-d2P4vGNB7PgjeOhnwoXhVJq7BjqJm+MTzNJdv80k+n0=" crossorigin=anonymous media=screen><link rel=stylesheet href=/css/coder-dark.min.a00e6364bacbc8266ad1cc81230774a1397198f8cfb7bcba29b7d6fcb54ce57f.css integrity="sha256-oA5jZLrLyCZq0cyBIwd0oTlxmPjPt7y6KbfW/LVM5X8=" crossorigin=anonymous media=screen><link rel=stylesheet href=/custom.min.2e198fefc57dcc517a51f5b2040b841f014759bd551d4dd18df6dd0c1b954a62.css integrity="sha256-LhmP78V9zFF6UfWyBAuEHwFHWb1VHU3RjfbdDBuVSmI=" crossorigin=anonymous media=screen><link rel=icon type=image/svg+xml href=/images/favicon.svg sizes=any><link rel=icon type=image/png href=/images/favicon-32x32.png sizes=32x32><link rel=icon type=image/png href=/images/favicon-16x16.png sizes=16x16><link rel=apple-touch-icon href=/images/apple-touch-icon.png><link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png><link rel=manifest href=/site.webmanifest><link rel=mask-icon href=/images/safari-pinned-tab.svg color=#5bbad5></head><body class="preload-transitions colorscheme-auto"><div class=float-container><a id=dark-mode-toggle class=colorscheme-toggle><i class="fa-solid fa-adjust fa-fw" aria-hidden=true></i></a></div><main class=wrapper><nav class=navigation><section class=container><a class=navigation-title href=https://jensrantil.github.io/>Jens Rantil
</a><input type=checkbox id=menu-toggle>
<label class="menu-button float-right" for=menu-toggle><i class="fa-solid fa-bars fa-fw" aria-hidden=true></i></label><ul class=navigation-list><li class=navigation-item><a class=navigation-link href=/posts/>Blog</a></li><li class=navigation-item><a class=navigation-link href=/pages/services/>Services</a></li><li class=navigation-item><a class=navigation-link href=/pages/about-me/>About</a></li></ul></section></nav><div class=content><section class="container post"><article><header><div class=post-title><h1 class=title><a class=title-link href=https://jensrantil.github.io/posts/lifecycles-and-states/>I'm a State Engineer. Are you, too?</a></h1></div><div class=post-meta><div class=date><span class=posted-on><i class="fa-solid fa-calendar" aria-hidden=true></i>
<time datetime=2013-11-18T00:00:00Z>November 18, 2013
</time></span><span class=reading-time><i class="fa-solid fa-clock" aria-hidden=true></i>
4-minute read</span></div><div class=tags><i class="fa-solid fa-tag" aria-hidden=true></i>
<span class=tag><a href=/tags/architecture/>Architecture</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/programming/>Programming</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/state/>State</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/distributed-architecture/>Distributed Architecture</a>
</span><span class=separator>•</span>
<span class=tag><a href=/tags/simplicity/>Simplicity</a></span></div></div></header><div class=post-content><p>TL;DR: We need to have a more thorough discussion about state and
lifecycles in our industry.</p><p>I recently revisited <a href=http://12factor.net class=external-link target=_blank rel=noopener>The Twelve-Factor App</a> by
<a href=https://www.heroku.com class=external-link target=_blank rel=noopener>Heroku</a>. It&rsquo;s a great read if you are deploying
your own application, are interested in (organizational and/or
technincal) scaling or curious of best practices when it comes to
deployment.</p><p>As I was reading the manifest it struck me that there are two words that
I hear all too infrequently in our industry, namely <em>state</em> and
<em>lifecycle</em>. The words have different meaning, yet they are related in
so many ways. All state has a lifecycle, otherwise the state would not
be worth thinking of.</p><p>Software engineers are surrounded by <em>state</em> all the time. So are
software architects. In fact, state can flow through every layer of a
software stack. Not to mention how state can be spread out across a
plethora in a distributed system; databases, caches, queues etc. State
also applies to a wide range of scopes; within a function/method, within
a class, within a software component, within a distributed application,
or even an orchestration of distributed applications.</p><p>As software engineers we need to respect state and how inherently difficult it
is to get it right. The majority of bugs are related to state in one way of
another. This is why we always need to formalize how and where state is stored.
Asking the question &ldquo;Do we need the state?&rdquo; is also worth doing so often.</p><p>The <em>how</em> is important. How can we as software engineers minimize errors
due to state? Here are a couple of ideas:</p><p><strong>Use constants as much as possible.</strong> Make it clear that a variable
cannot be changed. The <a href=http://www.erlang.org class=external-link target=_blank rel=noopener>Erlang</a> and
<a href=http://www.haskell.org class=external-link target=_blank rel=noopener>Haskell</a> programming languages go as far as not
even allowing changing the values of any variable. One needs to define a
new variable.</p><p><strong>Use immutable data structures as much as possible.</strong> Slightly related
to the previous paragraph. This is especially important when state is
moving through a system. Sure, this will make systems slower in some
case, but use immutability by default and mutability only where it&rsquo;s
really needed. In <a href=http://www.erlang.org class=external-link target=_blank rel=noopener>Erlang</a> all state sent between
components (called &ldquo;processes&rdquo;) is immutable.</p><p><strong>Isolate state</strong> and <strong>minimize inter-state dependencies</strong>. Make sure
that the implementation modifying state is isolated. This makes it
easier to get an overview of various states in the system and what makes
them transition into new states. Two ways of isolating state are two put
it in a separate (possibly, green) thread or, even better, binding to a
function/method scope.</p><p>Isolation of state can be an argument to decouple components of a bigger
system into smaller isolated ones. Paradoxically, isolating state can
also introduce other issues. A common issue of decoupling state into
distributed components is that state transitions can fail due to network
and/or timing issues.</p><p><strong>Make state shortlived.</strong> The fewer state changes the easier it becomes
to reason about them. This is where state <em>lifecycle</em> becomes an
important concept. A shortlived state makes programmers less prone to
introduce errors. Maybe your state can be computed from some other
external state.</p><p>The <a href=http://www.erlang.org class=external-link target=_blank rel=noopener>Erlang</a> programming language brings the
concept of &ldquo;supervisors&rdquo; to the table. This enables you to do exactly
this.</p><p><strong>Start thinking about asynchronicity.</strong> An async call between component
leads to a looser coupling. It also means that unexpected states will
not break other states.</p><p><strong>For distributed systems; learn about the CAP theorem.</strong> The
<a href=https://en.wikipedia.org/wiki/CAP_theorem class=external-link target=_blank rel=noopener>CAP</a> theorem states that in
the case of a network partition (P), you have choose between
<a href=http://basho.com/riak/ class=external-link target=_blank rel=noopener>availability</a> (A) and
<a href=https://github.com/coreos/etcd class=external-link target=_blank rel=noopener>consistency</a> (C). The concept of a
<a href=http://pagesperso-systeme.lip6.fr/Marc.Shapiro/papers/RR-6956.pdf class=external-link target=_blank rel=noopener>CRDT</a>
can also be interesting to know about if you&rsquo;d like to relax consistency
a bit.</p><p><strong>Have a look at the concepts of CQS, CQRS, event sourcing.</strong> Don&rsquo;t
worry, you don&rsquo;t necessarily have to use them. But give them some
thought for a moment.
<a href=https://en.wikipedia.org/wiki/Command%E2%80%93query_separation class=external-link target=_blank rel=noopener>CQS</a>
and <a href=http://martinfowler.com/bliki/CQRS.html class=external-link target=_blank rel=noopener>CQRS</a> are kind of similar.
<a href=http://martinfowler.com/eaaDev/EventSourcing.html class=external-link target=_blank rel=noopener>Event sourcing</a> can
be used with CQRS to make things really badass. Are you optimizing for
reads or writes? Choose.</p><p>This list above is definitely not exhaustive and don&rsquo;t hesitate to reach
out if you have additional input!</p><p>Over the past couple of years, learning new programming languages and
studying distributed systems engineering has given me a huge toolset
when it comes to reasoning about state. This is the one reason I
encourage software developers to learn about new software paradigms and
<a href=http://blog.teamtreehouse.com/learn-a-new-programming-language-every-year class=external-link target=_blank rel=noopener>one programming language per
year</a>.
My greatest insight into how state can be dealt with has definitely been
looking into <a href=http://www.erlang.org class=external-link target=_blank rel=noopener>the Erlang programming language</a>. A good
resource when it comes to distributed systems is reading the <a href=http://zguide.zeromq.org/page:all class=external-link target=_blank rel=noopener>ZeroMQ
Guide</a>.</p><p>Lately, I&rsquo;ve been thinking about retitling myself as a &ldquo;state engineer&rdquo;.
Maybe you should, too?</p></div><footer></footer></article></section></div><footer class=footer><section class=container>©
2026
Jens Rantil
·
Powered by <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a> & <a href=https://github.com/luizdepra/hugo-coder/ target=_blank rel=noopener>Coder</a>.
[<a href=https://github.com/JensRantil/jensrantil.github.io/tree/ba53a7bdc5cf036e6b8bd3776ef3af5b546193db target=_blank rel=noopener>ba53a7b</a>]</section></footer></main><script src=/js/coder.min.6ae284be93d2d19dad1f02b0039508d9aab3180a12a06dcc71b0b0ef7825a317.js integrity="sha256-auKEvpPS0Z2tHwKwA5UI2aqzGAoSoG3McbCw73gloxc="></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-8QE7N3YHJ3"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-8QE7N3YHJ3")</script></body></html>